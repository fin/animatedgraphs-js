<html>
    <head>
        <title>animate demo</title>
        <script src="3rdparty/raphael.js"></script>
        <script src="shapes.js"></script>
        <script src="3rdparty/g.raphael/g.raphael.js"></script>
        <script src="g.bar.path.js"></script>
        <script src="animate.js"></script>
    </head>
    <body>
        <div id="testcanvas">
        </div>
    </body>
    <script type="text/javascript">
            data = {'levels': ['gender','ethnicity'],
                    'data':// upper layer: datasets
                        [
                            {'male': {'black': 10, 'white': 15, 'asian': 5},
                             'female': {'black': 5, 'white': 10, 'asian': 2, 'hispanic': 2}
                            },
                            {'male': {'black': 16, 'white': 15, 'asian': 5},
                             'female': {'black': 50, 'white': 10, 'asian': 2, 'hispanic': 2}
                            }
                        ]
            };


            a = new AG(data.data, data.levels);



            var dsid = 1;

            refresh = function() {
                a.set_dataset(dsid);
                a.chart('bar_grouped', ['ethnicity']);
                dsid = 1-dsid;
                setTimeout(refresh, 4096);
            }

            refresh();
        </script>
</html>
