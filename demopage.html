<html>
    <head>
        <title>Animated Transitions with Javascript</title>
        <script src="3rdparty/raphael.js"></script>
        <script src="shapes.js"></script>
        <script src="3rdparty/g.raphael/g.raphael.js"></script>
        <script src="g.bar.path.js"></script>
        <script src="g.pie.path.js"></script>
        <script src="animate.js"></script>
        <style type="text/css">
	         #outercontainer {position:absolute; width:100%; height:100%}
	         #testcanvas {background-image:url(background.png); position:absolute;
                        width:650px; height:420px ;top:50%; left:50%;
                        margin-top:-210px ; margin-left:-325px}
           #title {position:relative; left:50%; width:650px; margin-left:-325px; height:20px; margin-top:-10px}
        </style>
    </head>
    
    <body bgcolor="#eeeeee">
        <div id="outercontainer">        
          <div id="testcanvas">            
          </div>
          <div id="title">
              <p><h2>Animated Transitions Javascript Demo</h2></p>
            </div>          
        </div>
    </body>
    <p>
        <script type="text/javascript">
            raphael = new Raphael("testcanvas", 650, 420);

            data = {'levels': ['gender','ethnicity'],
                    'data':// upper layer: datasets
                        [
                            {'male': {'black': 10, 'white': 15, 'asian': 5},
                             'female': {'black': 5, 'white': 10, 'asian': 2, 'hispanic': 2}
                            },
                            {'male': {'black': 16, 'white': 15, 'asian': 5},
                             'female': {'black': 50, 'white': 10, 'asian': 2, 'hispanic': 2}
                            }
                        ]
            };


            a = new AG(data.data, data.levels);



            var dsid = 1;

            refresh = function() {
                a.set_dataset(dsid);
                a.chart('pie_grouped', ['ethnicity']);
                dsid = 1-dsid;
                setTimeout(refresh, 2096);
            }

            refresh();
        </script>
        </p>
</html>
